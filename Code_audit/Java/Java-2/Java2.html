
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="the notes record by hypnotic">
      
      
        <meta name="author" content="hypnotic">
      
      
        <link rel="canonical" href="https://hypnoticp.github.io/Code_audit/Java/Java-2/Java2.html">
      
      
      
      
      <link rel="icon" href="../../../icons/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.42">
    
    
      
        <title>Java2 - hypnotic的博客</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.0253249f.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:300,300i,400,400i,700,700i%7CUbuntu+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Ubuntu";--md-code-font:"Ubuntu Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep" data-md-color-accent="deep">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#java-ee" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../../index.html" title="hypnotic的博客" class="md-header__button md-logo" aria-label="hypnotic的博客" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            hypnotic的博客
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Java2
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="deep" data-md-color-accent="deep"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="deep" data-md-color-accent="deep"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="分享" aria-label="分享" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/hypnoticp/hypnoticp.github.io.git" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    hypnoticp.github.io
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../index.html" class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../index.html" class="md-tabs__link">
          
  
    
  
  Code_audit

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../Vulnerability_analysis/index.html" class="md-tabs__link">
          
  
    
  
  Vulnerability_analysis

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../Tools/index.html" class="md-tabs__link">
          
  
    
  
  Tools

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../CTF/index.html" class="md-tabs__link">
          
  
    
  
  CTF

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../SRC/index.html" class="md-tabs__link">
          
  
    
  
  SRC

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../Security_devices/index.html" class="md-tabs__link">
          
  
    
  
  Security_devices

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../Shell_Scripts/index.html" class="md-tabs__link">
          
  
    
  
  Shell_Scripts

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../about.html" class="md-tabs__link">
        
  
    
  
  About

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../index.html" title="hypnotic的博客" class="md-nav__button md-logo" aria-label="hypnotic的博客" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    hypnotic的博客
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/hypnoticp/hypnoticp.github.io.git" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    hypnoticp.github.io
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../index.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Code_audit
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../Vulnerability_analysis/index.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Vulnerability_analysis
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../Tools/index.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Tools
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../CTF/index.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    CTF
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../SRC/index.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    SRC
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../Security_devices/index.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Security_devices
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../Shell_Scripts/index.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Shell_Scripts
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../about.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<p>Java 平台有 3 个主要版本，分别是 Java SE（Java Platform Standard Edition，Java平台标准版）、Java EE（Java Platform Enterprise Edition，Java 平台企业版）和 Java ME（Java Platform Micro Edition，Java 平台微型版）。其中，Java EE 是 Java 应用最广泛的版本。Java EE 也称为 Java 2 Platform 或 Enterprise Edition（J2EE）。Java EE 可以说是一个框架，也可以说是一种规范。</p>
<h1 id="java-ee">Java EE 分层模型<a class="headerlink" href="#java-ee" title="Permanent link">&para;</a></h1>
<h2 id="java-ee_1">Java EE 的核心技术<a class="headerlink" href="#java-ee_1" title="Permanent link">&para;</a></h2>
<p>Java EE 的核心技术有很多，包括 <strong><em>JDBC、JNDI、EJB、RMI、Servlet、JSP、XML、JMS、Java IDL、JTS、JTA、JavaMail 和 JAF</em></strong>。这里仅解释部分常用技术的释义。</p>
<ul>
<li>
<p><strong>Java数据库连接(Java Database Connectivity , JDBC)</strong> 在Java中用来规范客户端程序如何访问数据库的应用程序接口，提供了诸如查询和更新数据库中数据的方法</p>
</li>
<li>
<p><strong>Java命令和目录接口(Java Naming and Directory Interface,JNDI)</strong>是Java的一个目录服务应用程序界面(API),它提供了一个目录系统，并将服务名称与对象关联起来，从而使得开发人员在开发过程中可以用名称来访问对象。</p>
</li>
<li><strong>企业级 JavaBean（Enterprise JavaBean，EJB）</strong>是一个用来构筑企业级应用的、在服务器端可被管理的组件。</li>
<li><strong>远程方法调用（Remote Method Invocation，RMI）</strong>是 Java 的一组拥护开发分布式应用程序的 API,它大大增强了 Java 开发分布式应用的能力。</li>
<li><strong>可扩展标记语言（eXtensible Markup Language，XML）</strong>是被设计用于传输和存储数据的语言。</li>
<li><strong>Java 消息服务（Java Message Service，JMS）</strong>是一个 Java 平台中关于面向消息中间件（MOM）的 API，用于在两个应用程序之间或分布式系统中发送消息，进行异步通信。</li>
<li><strong>JSP（JavaServer Pages）</strong>是由 Sun 公司主导并创建的一种动态网页技术标准。JSP 部署于网络服务器上，可以响应客户端发送的请求，并根据请求内容动态生成HTML、XML 或其他格式文档的 Web 网页，然后返回给请求者。</li>
</ul>
<h2 id="java-ee_2">Java EE 分层模型<a class="headerlink" href="#java-ee_2" title="Permanent link">&para;</a></h2>
<p>Java EE 应用的分层模型主要分为以下 5 层。</p>
<ul>
<li><strong>Domain Object（领域对象）层</strong>：本层由一系列 POJO（Plain Old Java Object，普通的、传统的 Java 对象）组成，这些对象是该系统的 Domain Object，通常包含各自所需实现的业务逻辑方法。</li>
<li><strong>DAO（Data Access Object，数据访问对象）层</strong>：本层由一系列 DAO 组件组成，这些 DAO 实现了对数据库的创建、查询、更新和删除等操作。</li>
<li><strong>Service（业务逻辑）层</strong>：本层由一系列的业务逻辑对象组成，这些业务逻辑对象实现了系统所需要的业务逻辑方法。</li>
<li><strong>Controller（控制器）层</strong>：本层由一系列控制器组成，这些控制器用于拦截用户的请求，并调用业务逻辑组件的业务逻辑方法去处理用户请求，然后根据处理结果向不同的 View 组件转发。</li>
<li><strong>View（表现）层</strong>：本层由一系列的页面及视图组件组成，负责收集用户请求，并显示处理后的结果</li>
</ul>
<p>如下图所示，<u><strong><em>首先由数据库给 Domain Object 层提供持久化服务，然后由Domain Object 层去封装 DAO 层，DAO 层为业务逻辑层提供数据访问服务，接着业务逻辑层为控制器层提供逻辑支持，最终在表现层显示结果。</em></strong></u></p>
<p><img alt="截图" src="6457a3a857b6e226cdaaa713403670e8.png" /></p>
<p>Java EE 分层模型的应用，使得项目易于维护，管理简化，并且适应大规模和复杂的应用需求以及不断变化的业务需求。此外，分层模型还能有效提高系统并发处理能力。</p>
<h1 id="mvc-mvc">MVC 模式与 MVC 框架<a class="headerlink" href="#mvc-mvc" title="Permanent link">&para;</a></h1>
<p>在对某一项目进行代码审计时，我们需要从其输入、处理和输出来审计漏洞，遵循 MVC（Model View Controller）思想。在 MVC 应用程序中，有 3 个主要的核心部件，分别是模型、视图、控制器，它们独立处理各自的任务，这种分离的思想使得我们在审计时能够抓住关键问题，而不用关心类似于界面显示等无关紧要的问题。</p>
<h2 id="java-mvc">Java MVC 模式<a class="headerlink" href="#java-mvc" title="Permanent link">&para;</a></h2>
<h3 id="mvc">MVC 的概念<a class="headerlink" href="#mvc" title="Permanent link">&para;</a></h3>
<p>MVC 全名是 Model View Controller，M（Model）是指数据模型，V（View）是指用户界面，C（Controller）是控制器。使用 MVC 最直接的目的就是将M和V实现代码分离，C 则是确保 M 和V 的同步，一旦 M 改变，V 就应该同步更新。简单来说，MVC 是一个设计模式，它强制性地使应用程序的输入、处理和输出分开。MVC 应用程序被分成 3 个核心部件：Model、View、Controller。它们独立处理各自的任务。</p>
<p>Java MVC 模式与普通 MVC 的区别不大，具体如下。</p>
<ul>
<li><strong>模型（Model）</strong>：表示携带数据的对象或 Java POJO。即使模型内的数据改变，它也具有逻辑来更新控制器。</li>
<li><strong>控制器（Controller）</strong>：表示逻辑控制，控制器对模型和视图都有作用，控制数据流进入模型对象，并在数据更改时更新视图，是视图和模型的中间层。</li>
<li><strong>视图（View）</strong>：表示模型包含的数据的可视化层。</li>
</ul>
<h3 id="mvc_1">MVC 工作流程<a class="headerlink" href="#mvc_1" title="Permanent link">&para;</a></h3>
<p>MVC 的工作流程也很容易理解。首先，Controller 层接收用户的请求，并决定应该调用哪个 Model 来进行处理；然后，由 Model 使用逻辑处理用户的请求并返回数S据；最后，返回的数据通过 View 层呈现给用户。</p>
<p><img alt="截图" src="6b3316a366559d5b5174dcf66a796deb.png" /></p>
<p>MVC 模式使视图层和业务层分离，以便更改 View 层代码时，不用重新编译Model 和 Controller 代码。同样，当某个应用的业务流程或者业务规则发生改变时，只需要改动 Model 层即可实现需求。</p>
<h2 id="java-mvc_1">Java MVC 框架<a class="headerlink" href="#java-mvc_1" title="Permanent link">&para;</a></h2>
<p>Java MVC 的框架有很多，如比较经典的 Struts1 框架、Struts2 框架、Spring MVC框架，此外还有小众的 JSF 框架以及 Tapestry 框架。下面简单介绍这些框架。</p>
<ul>
<li>Struts1 框架：Struts 是较早的 Java 开源框架之一，它是 MVC 设计模式的一个优秀实现。Struts1 框架基于 MVC 模式定义了通用的 Controller，通过配置文件分离了Model 和 View，通过 Action 对用户请求进行了封装，使代码更加清晰、易读，整个项目也更易管理。</li>
<li>Struts2 框架：Struts2 框架并不是单纯由 Struts1 版本升级而来，而是 Apache 根据一个名为 WebWork 的项目发展而来的，所以两者的关系并不大。Struts2 框架同样是一个基于 MVC 设计模式的 Web 应用框架，它本质上相当于一个 Servlet。在MVC 设计模式中，Struts2 作为控制器来建立模型与视图的数据交互。</li>
<li>Spring MVC 框架：Spring MVC 是一个基于 MVC 思想的优秀应用框架,它是Spring 的一个子框架，也是一个非常优秀的 MVC 框架。Spring MVC 角色划分清晰，分工明细，并且与 Spring 框架无缝结合。作为当今业界最主流的 Web 开发框架，Spring MVC 框架已经成为当前最热门的开发技能之一，同时也广泛用于桌面开发领域。</li>
<li>JSF 框架：JSF 框架是一个用于构建 Java Web 应用程序的标准框架，也是一个MVC Web 应用框架，它提供了一种以组件为中心的用户界面（UI）构建方法，从而简化了 Java 服务器端应用程序的开发。</li>
<li>Tapestry 框架：Tapestry 框架也是一种基于 Java 的 Web 应用程序框架，与上述4 款框架相比，Tapestry 并不是一种单纯的 MVC 框架，它更像 MVC 框架和模板技术的结合，不仅包含前端的 MVC 框架，还包含一种视图层的模板技术，并使用Tapestry 完全与 Servlet/JSP API 分离，是一种非常优秀的设计。相对于现有的其他Web 应用程序框架而言，Tapestry 框架会帮助开发者从烦琐的、不必要的底层代码中解放出来.</li>
</ul>
<h1 id="java-web-servlet">Java Web 的核心技术——Servlet<a class="headerlink" href="#java-web-servlet" title="Permanent link">&para;</a></h1>
<p>Servlet 其实是在 Java Web 容器中运行的小程序。用户通常使用 Servlet 来处理一些较为复杂的服务器端的业务逻辑。Servlet 原则上可以通过任何客户端-服务器协议进行通信，但是它们常与 HTTP 一起使用，因此，“Servlet”通常用作“HTTP servlet”的简写。Servlet 是 Java EE 的核心，也是所有 MVC 框架实现的根本。</p>
<h2 id="servlet">Servlet 的配置<a class="headerlink" href="#servlet" title="Permanent link">&para;</a></h2>
<p>版本不同，Servlet 的配置不同。Servlet 3.0 之前的版本都是在 web.xml 中配置的，而 Servlet 3.0 之后的版本则使用更为便捷的注解方式来配置。此外，不同版本的Servlet 所需的 Java/JDK 版本也不相同。</p>
<p>Servlet 版本及其对应的 Java 版本：</p>
<p><img alt="截图" src="2af3c2ed79b1b7fdb9f0d4acc1bdfbab.png" /></p>
<p><img alt="截图" src="431a00fbb3c1ba23da43e71ec0ca4601.png" /></p>
<h3 id="1webxml">1.基于web.xml<a class="headerlink" href="#1webxml" title="Permanent link">&para;</a></h3>
<p>下图是一个基于web.xml的Servelt配置</p>
<p><img alt="截图" src="fda78beadbf064b74c692cf0842668e4.png" /></p>
<p>在 web.xml 中，Servlet 的配置在 Servlet 标签中，Servlet 标签是由 Servlet 和Servlet-mapping 标签组成，两者通过在 Servlet 和 Servlet-mapping 标签中相同的Servlet-name 名称实现关联，上图的标签含义如下：</p>
<ul>
<li><servelt>:声明Servlet配置入口</li>
<li><description>:声明Servlet描述信息</li>
<li><display-name>:定义Web应用的名字</li>
<li><servlet-name>:声明Servlet名称以便在后面的映射时使用</li>
<li><servlet-class>:指定当前Servlet对应的类的路径</li>
<li><servlet-mapping>:注册组件访问配置的路径入口</li>
<li><url-pattern>:指定配置这个组件的访问路径</li>
</ul>
<h3 id="2">2.基于注解方式<a class="headerlink" href="#2" title="Permanent link">&para;</a></h3>
<p>Servlet 3.0 以上的版本中，开发者无须在 web.xml 里面配置 Servlet，只需要添加@WebServlet 注解即可修改 Servlet 的属性，如下图所示。</p>
<p><img alt="截图" src="743235a7566603fe4466dcf057aad92a.png" /></p>
<p>可以看到第 13 行@WebServlet 的注解参数有 description 及 urlPatterns，除此之外还有很多参数，具体如下表所示。</p>
<p><img alt="截图" src="49b1311bea3fbb8bc5e48393747b13e5.png" /></p>
<p>由此可以看出，web.xml 可以配置的 Servlet 属性，都可以通过@WebServlet 的方式进行配置。</p>
<h2 id="servlet_1">Servlet 的访问流程<a class="headerlink" href="#servlet_1" title="Permanent link">&para;</a></h2>
<p>以下面这张图为例，其访问流程如后图所示。</p>
<p><img alt="截图" src="60fb990d8998d0ae1f9c72e634feca71.png" /></p>
<p>Servlet的访问流程：</p>
<p><img alt="截图" src="26df9c28496755ad8389ccd358a43273.png" /></p>
<p>首先在浏览器地址栏中输入 user，即访问 url-pattern 标签中的值；然后浏览器发起请求，服务器通过 servlet-mapping 标签中找到文件名为 user 的 url-pattern，通过其对应的 servlet-name 寻找 servlet 标签中 servlet-name 相同的 servlet；再通过 servlet 标签中的 servlet-name，获取 servlet-class 参数；最后得到具体的 class 文件路径，继而执行 servlet-class 标签中 class 文件的逻辑。
从上述过程可以看出，servlet 和 servlet-mapping 中都含有<servlet-name> </servlet-name>标签，其主要原因是通过 servlet-name 作为纽带，将 servlet-class 和url-pattern 构成联系，从而使 URL 映射到 servlet-class 所指定的类中执行相应逻辑。</p>
<h2 id="servlet_2">Servlet 的接口方法<a class="headerlink" href="#servlet_2" title="Permanent link">&para;</a></h2>
<p>HTTP 有 8 种请求方法，分别为 GET、POST、HEAD、OPTIONS、PUT、DELETE、TRACE 以及 CONNECT 方法。与此类似，Servlet 接口中也对应着相应的请求接口：GET、POST、HEAD、OPTIONS、PUT、DELETE 以及 TRACE，这些接口对应着请求类型，service()方法会检查 HTTP 请求类型，然后在适当的时候调用 doGet、doPost、doPut，doDelete 等方法。</p>
<p>Servlet 的接口方法如下。</p>
<h3 id="1init">1.init() 接口<a class="headerlink" href="#1init" title="Permanent link">&para;</a></h3>
<p>在 Servlet 实例化后，Servlet 容器会调用 init()方法来初始化该对象，主要是使Servlet 对象在处理客户请求前可以完成一些初始化工作，例如建立数据库的连接，获取配置信息等。init() 方法在第一次创建 Servlet 时被调用，在后续每次用户请求时不再被调用。init() 方法的定义如下。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>public void init() throws ServletException{ 
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a> // 此处内容为开发者定义的初始化代码
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>}
</code></pre></div>
<h3 id="2service">2.service() 接口<a class="headerlink" href="#2service" title="Permanent link">&para;</a></h3>
<p>service() 方法是执行实际任务的主要方法。Servlet 容器（Web 服务器）调用service()方法来处理来自客户端（浏览器）的请求，并将格式化的响应写回给客户端，每次服务器接收到一个 Servlet 请求时，服务器都会产生一个新的线程并调用服务。要注意的是，在 service()方法被 Servlet 容器调用之前，必须确保 init()方法正确完成。</p>
<p>Service()方法的定义如下。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>public void service(ServletRequest request, 
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a> ServletResponse response) 
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a> throws ServletException, IOException 
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>{ 
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a> // 此处内容为开发者处理用户请求的代码
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>}
</code></pre></div>
<h3 id="3dogetdopost">3.doGet()/doPost()等接口<a class="headerlink" href="#3dogetdopost" title="Permanent link">&para;</a></h3>
<p>doGet() 等方法根据 HTTP 的不同请求调用不同的方法。如果 HTTP 得到一个来自 URL 的 GET 请求，就会调用 doGet() 方法；如果得到的是一个 POST 请求，就会调用 doPost() 方法。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>public void doGet(HttpServletRequest request, 
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a> HttpServletResponse response) 
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a> throws ServletException, IOException 
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>{ 
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>// 此处内容为开发者处理 GET 请求的代码
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>// 以此类推，若是 POST 请求，则调用 public void doPost 方法
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>}
</code></pre></div>
<h3 id="4destroy">4.destroy() 接口<a class="headerlink" href="#4destroy" title="Permanent link">&para;</a></h3>
<p>当 Servlet 容器检测到一个 Servlet 对象应该从服务中被移除时，会调用该对象的destroy() 方法，以便 Servlet 对象释放它所使用的资源，保存数据到持久存储设备中。例如将内存中的数据保存到数据库中、关闭数据库连接、停止后台线程、把 Cookie 列表或单击计数器写入磁盘，并执行其他类似的清理活动等。destroy() 方法与 init() 方法相同，只会被调用一次。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>public void destroy() 
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>{ 
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a> // 此处内容为开发者进行终止操作的代码
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>}
</code></pre></div>
<h3 id="5getservletconfig">5.getServletConfig() 接口<a class="headerlink" href="#5getservletconfig" title="Permanent link">&para;</a></h3>
<p>getServletConfig() 方法返回 Servlet 容器调用 init() 方法时传递给 Servlet 对象的ServletConfig 对象，ServletConfig 对象包含 Servlet 的初始化参数。开发者可以在Servlet 的配置文件 web.xml 中，使用<init-param>标签为 Servlet 配置一些初始化参数：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>&lt;servlet&gt; 
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a> &lt;servlet-name&gt;servlet&lt;/servlet-name&gt; 
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a> &lt;servlet-class&gt;org.test.TestServlet&lt;/servlet-class&gt; 
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a> &lt;init-param&gt; 
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a> &lt;param-name&gt;userName&lt;/param-name&gt; 
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a> &lt;param-value&gt;panda&lt;/param-value&gt; 
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a> &lt;/init-param&gt; 
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a> &lt;init-param&gt; 
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a> &lt;param-name&gt;E-mail&lt;/param-name&gt; 
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a> &lt;param-value&gt;test@test.net&lt;/param-value&gt; 
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a>&lt;/init-param&gt; 
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a> &lt;/servlet&gt;
</code></pre></div>
<p>经过上面的配置，即可在 Servlet 中通过调用 getServletConfig()，并获得一些初始化的参数。</p>
<h3 id="6getservletinfo">6.getServletInfo() 接口<a class="headerlink" href="#6getservletinfo" title="Permanent link">&para;</a></h3>
<p>getServletInfo() 方法会返回一个 String 类型的字符串，包括关于 Servlet 的信息，如作者、版本及版权等。</p>
<h2 id="servlet_3">Servlet 的生命周期<a class="headerlink" href="#servlet_3" title="Permanent link">&para;</a></h2>
<p>我们常说的 Servlet 生命周期指的是 Servlet 从创建直到销毁的整个过程。在一个生命周期中，Servlet 经历了被加载、初始化、接收请求、响应请求以及提供服务的过程.</p>
<p><img alt="截图" src="d497f8eac0778b5a68dbb3932c6680a7.png" /></p>
<p><strong><em>当用户第一次向服务器发起请求时，服务器会解析用户的请求，此时容器会加载 Servlet，然后创建 Servet 实例，再调用 init() 方法初始化 Servlet，紧接着调用服务的 service() 方法去处理用户 GET、POST 或者其他类型的请求。当执行完 Servlet 中对应 class 文件的逻辑后，将结果返回给服务器，服务器再响应用户请求。当服务器不再需要 Servlet 实例或重新载入 Servlet 时，会调用 destroy() 方法，借助该方法，Servlet 可以释放掉所有在 init()方法中申请的资源。</em></strong></p>
<h1 id="java-web-filter">Java Web 过滤器——filter<a class="headerlink" href="#java-web-filter" title="Permanent link">&para;</a></h1>
<p>filter 被称为过滤器，是 Servlet 2.3 新增的一个特性，同时它也是 Servlet 技术中最实用的技术。开发人员通过 Filter 技术，能够实现对所有 Web 资源的管理，如实现权限访问控制、过滤敏感词汇、压缩响应信息等一些高级功能。</p>
<h2 id="filter">filter 的配置<a class="headerlink" href="#filter" title="Permanent link">&para;</a></h2>
<p>filter 的配置类似于 Servlet，由<filter>和<filter-mapping>两组标签组成，如下图所示。同样，如果 Servlet 版本大于 3.0，也可以使用注解的方式来配置 filter。</p>
<h3 id="webxml">基于 web.xml 的配置<a class="headerlink" href="#webxml" title="Permanent link">&para;</a></h3>
<p>filter 同样有很多标签，其中各个标签的含义如下。</p>
<ul>
<li><filter>：指定一个过滤器。</li>
<li><filter-name>：用于为过滤器指定一个名称，该元素的内容不能为空。</li>
<li><filter-class>：用于指定过滤器的完整的限定类名。</li>
<li><init-param>：用于为过滤器指定初始化参数。</li>
<li><param-name>：为<init-param>的子参数，用于指定参数的名称。</li>
<li><param-value>：为<init-param>的子参数，用于指定参数的值。</li>
<li><filter-mapping>：用于设置一个 filter 所负责拦截的资源。</li>
<li><filter-name>：为<filter-mapping>子元素，用于设置 filter 的注册名称。该值必须是在<filter>元素中声明过的过滤器的名称。</li>
<li><url-pattern>：用于设置 filter 所拦截的请求路径（过滤器关联的 URL 样式）。</li>
<li><servlet-name>：用于指定过滤器所拦截的 Servlet 名称。</li>
</ul>
<p><img alt="截图" src="d2cb466a76e1416951fe098cf2503b91.png" /></p>
<h3 id="_1">基于注解方式的配置<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h3>
<p>因为 Servlet 的关系，在 Servlet 3.0 以后，开发者同样可以不用在 web.xml 里面配置 filter，只需要添加@WebServlet 注解就可以修改 filter 的属性</p>
<p><img alt="截图" src="594ad0f2e8ec2a223823ed8d6691b446.png" /></p>
<p>可以看到第 15 行的@WebServlet 的注解参数有 description 及 urlPatterns，此外还有很多参数</p>
<p><img alt="截图" src="74558e639fa59b11c900e23a11d1fe6a.png" /></p>
<p>由此可见，web.xml 可以配置的 filter 属性都可以通过 @WebServlet 的方式进行配置。但需要注意的是，一般不推荐使用注解方式来配置 filter，因为如果存在多个过滤器，使用 web.xml 配置 filter 可以控制过滤器的执行顺序；如果使用注解方式来配置 filter，则无法确定过滤器的执行顺序。</p>
<h2 id="filter_1">filter 的使用流程及实现方式<a class="headerlink" href="#filter_1" title="Permanent link">&para;</a></h2>
<p>filter 接口中有一个 doFilter 方法，当开发人员编写好 Filter 的拦截逻辑，并配置对哪个 Web 资源进行拦截后，Web 服务器会在每次调用 Web 资源的 service() 方法之前先调用 doFilter 方法，具体流程如下图 所示。</p>
<p>当用户向服务器发送 request 请求时，服务器接受该请求，并将请求发送到第一个过滤器中进行处理。如果有多个过滤器，则会依次经过 filter 2，filter 3，……，filter n。接着调用 Servlet 中 的 service() 方法，调用完毕后，按照与进入时相反的顺序，从过滤器 filter n 开始，依次经过各个过滤器，直到过滤器 filter 1。最终将处理后的结果返回给服务器，服务器再反馈给用户。</p>
<p>filter 进行拦截的方式也很简单，在 HttpServletRequest 到达 Servlet 之前，filter 拦截客户的 HttpServletRequest ，根据需要检查 HttpServletRequest ，也可以修改HttpServletRequest 头和数据。在 HttpServletResponse 到达客户端之前，拦截HttpServletResponse，根据需要检查 HttpServletResponse，也可以修改 HttpServletResponse头和数据。</p>
<p><img alt="截图" src="9c169776d7a140a3b7a0506541435f3e.png" /></p>
<h2 id="filter_2">filter 的接口方法<a class="headerlink" href="#filter_2" title="Permanent link">&para;</a></h2>
<h3 id="1init_1">1.Init() 接口<a class="headerlink" href="#1init_1" title="Permanent link">&para;</a></h3>
<p>与 Servlet 中的 init() 方法类似，filter 中的 init() 方法用于初始化过滤器。开发者可以在 init() 方法中完成与构造方法类似的初始化功能。如果初始化代码中要用到 FillerConfig 对象，则这些初始化代码只能在 filler 的 init() 方法中编写，而不能在构造方法中编写。</p>
<p>init() 方法的定义如下。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>public void init(FilterConfig fConfig) throws ServletException { 
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a> // 此处内容为开发者定义的初始化代码... 
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>}
</code></pre></div>
<h3 id="2dofilter">2.doFilter() 接口<a class="headerlink" href="#2dofilter" title="Permanent link">&para;</a></h3>
<p>doFilter 方法类似于 Servlet 接口的 service() 方法。当客户端请求目标资源时，容器会筛选出符合<filter-mapping> 标签中<url-pattern> 的 filter，并按照声明<filter-mapping> 的顺序依次调用这些 filter 的 doFilter() 方法。需要注意的是doFilter() 方法有多个参数，其中参数 request 和 response 为 Web 服务器或 filter 链中的上一个 filter 传递过来的请求和响应对象。参数 chain 代表当前 filter 链的对象，只有在当前 filter 对象中的 doFilter() 方法内部需要调用 FilterChain 对象的doFilter() 方法时，才能把请求交付给 filter 链中的下一个 filter 或者目标程序处理。</p>
<p>doFilter() 方法的定义如下。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>public void doFilter(ServletRequest request, ServletResponse response, 
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>FilterChain chain) throws IOException, ServletException { 
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a> // 此处内容为开发者定义的过滤代码
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a> ... 
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a> // 传递 filter 链
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a> chain.doFilter(request, response); 
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>}
</code></pre></div>
<h3 id="3destroy">3.destroy() 接口<a class="headerlink" href="#3destroy" title="Permanent link">&para;</a></h3>
<p>filter 中的 destroy() 方法与 Servlet 中的 destroy() 作用类似，在 Web 服务器卸
载 filter 对象之前被调用，用于释放被 filter 对象打开的资源，如关闭数据库、关闭
I/O 流等。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>public void destroy() { 
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a> // 此处内容为开发者进行终止操作的代码
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>}
</code></pre></div>
<h2 id="filter_3">filter 的生命周期<a class="headerlink" href="#filter_3" title="Permanent link">&para;</a></h2>
<p>filter 的生命周期与 Servlet 的生命周期比较类似，指的是 filter 从创建到销毁的整个过程。在一个生命周期中，filter 经历了被加载、初始化、提供服务及销毁的过程</p>
<p><img alt="截图" src="2a93baabdb3f0027df9ef6a74b670aa7.png" /></p>
<p>当 Web 容器启动时，会根据 web.xml 中声明的 filter 顺序依次实例化这些filter。然后在 Web 应用程序加载时调用 init() 方法，随即在客户端有请求时调用doFilter() 方法，并且根据实际情况的不同，doFilter() 方法可能被调用多次。最后在Web 应用程序卸载（或关闭）时调用 destroy()方法。</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024 hypnotic
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["header.autohide", "navigation.instant", "navigation.tracking", "content.code.annotate", "toc.integrate", "toc.follow", "navigation.path", "navigation.top", "navigation.tabs", "navigation.prune", "navigation.footer", "navigation.tabs.sticky", "navigation.sections", "content.code.copy", "navigation.indexes", "search.share", "search.suggest", "search.highlight"], "search": "../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.83f73b43.min.js"></script>
      
        <script src="../../../javascripts/extra.js"></script>
      
        <script src="../../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>